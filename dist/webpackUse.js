"use strict";const e=e=>e.join("|"),r=e(["active","any-link","blank","checked","current","default","defined","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","last-child","last-of-type","left","link","local-link","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited"]),n=e(["center","start","end","flex-start","flex-end","left","right","space-between","between","space-around","around","space-evenly","evenly","stretch","inherit","initial","unset","normal"]),t=e(["baseline","center","end","flex-end","flex-start","inherit","initial","normal","self-end","self-start","start","stretch","unset"]),i=e(["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"]),s=e(["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","p"]),o=e(["baseline","sub","super","text-top","text-bottom","middle","top","bottom","inherit","initial","unset"]);let a="";a+='@charset "UTF-8";\n',a+="/* https://github.com/macheteHot/css-generator-plugin/\n",a+="   version: v2.0.5-beta\n",a+="   this file will auto generate and update\n",a+="   DO NOT EDIT THIS FILE!\n",a+="   DO NOT EDIT THIS FILE!\n",a+="   DO NOT EDIT THIS FILE!\n",a+="*/\n\n";const u={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)"},l=Object.keys(u),c=new Map;c.set(void 0,[""]),c.set("x",["left","right"]),c.set("y",["top","bottom"]),c.set("t",["top"]),c.set("r",["right"]),c.set("b",["bottom"]),c.set("l",["left"]),c.set("top",["top"]),c.set("right",["right"]),c.set("bottom",["bottom"]),c.set("left",["left"]);var d={regExp:new RegExp(`^align-items-(?<align>${t})$`),render({groups:e}){const{align:r}=e;return{name:"alignItems",order:220,css:["align-items: "+r]}}};let p={modifyRules:{}};const g={vue:{extNames:["vue"],reg:/((?<=class=(["']))[\s\S]*?(?=\2))|((?<=class={)[\s\S]*?(?=}))/gi},react:{extNames:["tsx","jsx"],reg:/((?<=className=(["']))[\s\S]*?(?=\2))|((?<=className={)[\s\S]*?(?=}))/gi},"d-mini-program":{extNames:["axml"],reg:/((?<=class=")|(?<=classname="))[\s\S]+?(?=")/gi},"wx-mini-program":{extNames:["wxml"],reg:/((?<=class=")|(?<=classname="))[\s\S]+?(?=")/gi},html:{extNames:["html"],reg:/((?<=class=(["']))[\s\S]*?(?=\2))/gi}};function m(e){switch(e){case"extNames":return g[p.type].extNames;case"globReg":return g[p.type].reg;case"colors":return p.colors||{};case"unit":return p.unit||"px";case"mediaQueries":return p.mediaQueries||{};case"important":return void 0===p.important||p.important;default:return p[e]}}function x(e,r){return 0===Number(e)?"":"p"===r?"%":r||(p.unit||"px")}function h(e){return"function"==typeof e}function f(e,r){switch(r){case"x":return e+10;case"y":return e+20;case"t":return e+30;case"b":return e+40;case"r":return e+50;case"l":return e+60}}const $=e=>f(460,e);function b(e,r,n){return c.get(e).reduce((e,t)=>t?[...e,`border-${t}-width: ${r}${n}`,`border-${t}-style: solid`,`border-${t}-style: solid`]:[...e,`border-width: ${r}${n}`,"border-style: solid","border-style: solid"],[])}var w={regExp:new RegExp(`^(border|border-width|border-w)-((?<direction>[trblxy])-)?(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{direction:r,num:n,unit:t}=e;return t=x(n,t),{name:"border",order:$(r),num:n,css:b(r,n,t)}}},v={regExp:new RegExp(`^(border-radius|br)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{num:r,unit:n}=e;return n=x(r,n),{name:"borderRadius",order:530,num:r,css:[`border-radius: ${r}${n}`]}}},E={regExp:/^border-style-(?<value>none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit)$/,render({groups:e}){const{value:r}=e;return{name:"borderStyle",order:550,css:["border-style: "+r]}}},y={regExp:/^box-sizing-(?<value>content-box|border-box)$/,render({groups:e}){const{value:r}=e;return{name:"boxSizing",order:560,css:["box-sizing: "+r]}}},k={regExp:/^circle$/,render:()=>({name:"circle",order:540,css:["border-radius: 50%"]})};const j=()=>({red:"#f00",white:"#fff",black:"#000",blue:"#00f",transparent:"transparent",...m("colors")});function S(e){return parseInt(e,16)}var N={regExp:()=>new RegExp(`^(?<type>color|c|text|bg|background|border-color|border-c)-(?<color>(#?([a-fA-F0-9]{8}$|[a-fA-F0-9]{6}|[a-fA-F0-9]{3}))|${Object.keys(j()).join("|")})(-(?<opacity>1|([1-9]\\d?)))?$`),render({groups:e}){let{type:r,color:n,opacity:t}=e;t=void 0===t?1:(.01*t).toFixed(2),n=function(e,r=1){const n=/^#?([a-fA-F0-9]{8}|[a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e)?e.replace(/^#/,""):j()[e].replace(/^#/,"");if("transparent"===n)return"transparent";if(6===n.length){const e=/[a-fA-F0-9]{2}/g;return"rgba("+n.match(e).map(S).join(",")+`,${r})`}if(3===n.length)return"rgba("+n.split("").map(e=>S(e.repeat(2))).join(",")+`,${r})`;if(8===n.length){const e=/[a-fA-F0-9]{2}/g;let[r,t,i,s]=n.match(e);return s=Number(Number(Math.round(parseInt(s,16))/255).toFixed(2)),"rgba("+[r,t,i].map(S).join(",")+`,${s})`}return""}(n,t);let i="";switch(r){case"c":case"color":case"text":i="color";break;case"bg":case"background":i="background-color";break;case"border-c":case"border-color":i="border-color";break;default:i=r}return{name:"color",order:1/0,css:[`${i}: ${n}`]}}},z={regExp:new RegExp(`^cursor-(?<value>${i})$`),render({groups:e}){const{value:r}=e;return{name:"cursor",order:340,css:["cursor: "+r]}}},R={regExp:/^(display|d)-(?<value>none|inline|block|inline-block|flex)$/,render({groups:e}){const{value:r}=e;return{name:"display",order:1/0,css:["display: "+r]}}},O={regExp:new RegExp(`^flex-basis-(?<value>((?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?)|initial|inherit|auto)$`),render({groups:e}){let{value:r,num:n,unit:t}=e;return n&&(t=x(n,t),r=`${n}${t}`),{name:"flexBasis",order:280,css:["flex-basis: "+r]}}},I={regExp:/^(flex-direction|flex)-(?<value>row|row-reverse|column|column-reverse)$/,render({groups:e}){const{value:r}=e;return{name:"flexDirection",order:230,css:["flex-direction: "+r]}}},F={regExp:new RegExp(`^flex-(?<justify>${n})-(?<align>${t})$`),render({groups:e}){let{justify:r,align:n}=e;return"between"===r&&(r="space-between"),"around"===r&&(r="space-around"),"evenly"===r&&(r="space-evenly"),{name:"flexJustAli",order:200,css:["display: flex","justify-content: "+r,"align-items: "+n]}}},A={regExp:/^flex-(?<value>null|auto|none|(0|[1-9]\d*))$/,render({groups:e}){const{value:r}=e;return{name:"flex",order:250,css:["flex: "+r]}}},T={regExp:/^flex-(?<type>shrink|grow)-(?<value>(0|[1-9]\d*)|initial|inherit)$/,render({groups:e}){const{type:r,value:n}=e;return{name:"shrink"===r?"flexShrink":"flexGrow",order:"shrink"===r?260:270,css:[`flex-${r}: ${n}`]}}},D={regExp:/^flex-wrap-(?<value>inherit|initial|nowrap|wrap|wrap-reverse)$/,render({groups:e}){const{value:r}=e;return{name:"flexDirection",order:240,css:["flex-wrap: "+r]}}},q={regExp:new RegExp(`^(font-size|fs)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{num:r,unit:n}=e;return n=x(r,n),{name:"fontSize",order:370,num:r,css:[`font-size: ${r}${n}`]}}},H={regExp:/^(font-weight|fw)-(?<value>[1-9]00|bold|bolder|inherit|initial|lighter|normal|unset)$/,render({groups:e}){const{value:r}=e;return{name:"fontWeight",order:360,css:["font-weight: "+r]}}},M={regExp:new RegExp(`^(h|height)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){const{num:r,unit:n}=e;return{name:"height",order:20,num:r,css:[`height: ${r}${x(r,n)}`]}}},L={regExp:new RegExp(`^justify-content-(?<justify>${n})$`),render({groups:e}){const{justify:r}=e;return{name:"justifyContent",order:210,css:["justify-content: "+r]}}},P={regExp:new RegExp(`^letter-spacing-(?<isMinus>m-)?(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{isMinus:r,num:n,unit:t}=e;r&&(n=0-n),t=x(n,t);return{...{name:"letterSpacing",order:410,num:n},css:0!==Number(n)?[`letter-spacing: ${n}${t}`]:["letter-spacing: 0"]}}},_={regExp:new RegExp(`^(lh|line-height)-(?<value>((?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?)|normal|unset|inherit|initial)$`),render({groups:e}){let{value:r,num:n,unit:t}=e;const i={name:"lineHeight",order:330};return void 0!==n?(t=x(n,t),{...i,num:n,css:[`line-height: ${n}${t}`]}):{...i,num:1/0,css:["line-height: "+r]}}};var W={regExp:new RegExp(`^(?<type>m|margin|p|padding)-((?<direction>[trblxy])-)?((?<auto>auto)|(?<isMinus>m-)?(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?)$`),render({groups:e}){let{type:r,direction:n,isMinus:t,num:i,unit:s,auto:o}=e;o?(s="",i="auto"):s=x(i,s),t&&(i=0-i);const a=function(e,r){let n,t="";return"m"!==e&&"margin"!==e||(n=f(50,r),t+="margin"),"p"!==e&&"padding"!==e||(n=f(110,r),t+="padding"),r&&(t+="-"+r),{name:t,order:n}}(r,n);return"m"===r&&(r="margin"),"p"===r&&(r="padding"),{...a,num:i,css:c.get(n).reduce((e,n)=>[...e,n?`${r}-${n}: ${i}${s}`:`${r}: ${i}${s}`],[])}}},B={regExp:new RegExp(`^(max-h|max-height)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{num:r,unit:n}=e;n=x(r,n);const t={name:"max-height",order:31,num:r};return Number(0===r)?{...t,css:["max-height: 0"]}:{...t,css:[`max-height: ${r}${n}`]}}},Q={regExp:new RegExp(`^(max-w|max-width)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){const{num:r,unit:n}=e;return{name:"max-width",order:31,num:r,css:[`max-width: ${r}${x(r,n)}`]}}},J={regExp:new RegExp(`^(min-h|min-height)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){const{num:r,unit:n}=e;return{name:"min-height",order:40,num:r,css:[`min-height: ${r}${x(r,n)}`]}}},U={regExp:new RegExp(`^(min-w|min-width)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){const{num:r,unit:n}=e;return{name:"min-width",order:41,num:r,css:[`min-width: ${r}${x(r,n)}`]}}},C={regExp:/^opacity-(?<num>([1-9]?\d|100))$/,render({groups:e}){const{num:r}=e;return{name:"opacity",order:1/0,num:r,css:["opacity: "+Number((r/100).toFixed(2))]}}},G={regExp:new RegExp(`^(?<direction>[trbl]|top|right|bottom|left)-(?<isMinus>m-)?(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{direction:r,isMinus:n,num:t,unit:i}=e;return n&&(t=0-t),i=x(t,i),1===r.length&&(r=c.get(r)[0]),{name:"orientation",order:310,num:t,css:[`${r}: ${t}${i}`]}}},V={regExp:/^overflow(-(?<direction>[xy]))?-(?<value>hidden|auto|visible|scroll|inherit)$/,render({groups:e}){const{direction:r,value:n}=e,t={name:"overflow"};return r?"x"===r?{...t,order:390,css:["overflow-x: "+n]}:"y"===r?{...t,order:400,css:["overflow-y: "+n]}:void 0:{...t,order:380,css:["overflow: "+n]}}},Z={regExp:/^position-(?<value>static|relative|sticky|unset|absolute|fixed|inherit|initial)$/,render({groups:e}){const{value:r}=e;return{name:"position",order:300,css:["position: "+r]}}},K={className:"square",regExp:new RegExp(`^square-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){let{num:r,unit:n}=e;return n=x(r,n),{name:"square",order:50,num:r,css:[`width: ${r}${n}`,`height: ${r}${n}`]}}},X={regExp:/^(text-align|text)-(?<value>start|end|left|right|center|justify|match-parent)$/,render({groups:e}){const{value:r}=e;return{name:"textAlign",order:320,css:["text-align: "+r]}}},Y={regExp:/^(text-align-last|text-last)-(?<value>auto|left|right|center|justify|start|end|initial|inherit)$/,render({groups:e}){const{value:r}=e;return{name:"textAlignLast",order:440,css:["text-align-last: "+r]}}},ee={regExp:/^(text-decoration|text)-(?<value>none|underline|overline|line-through|blink|inherit)$/,render({groups:e}){const{value:r}=e;return{name:"textDecoration",order:420,css:["text-decoration: "+r]}}},re={regExp:/^(text-)?ellipsis(-(?<num>[1-9]\d*))?$/,render({groups:e}){let{num:r}=e;const n={name:"ellipsis",order:450};return 1===Number(r)&&(r=void 0),void 0===r?{...n,num:0,css:["display: inline-block","overflow: hidden","text-overflow: ellipsis","white-space: nowrap"]}:{...n,num:r,css:["overflow: hidden","text-overflow: ellipsis","display: -webkit-box","-webkit-line-clamp: "+r,"-webkit-box-orient: vertical"]}}},ne={regExp:/^(user-)?select-(?<value>none|auto|text|all|contain|element)$/,render({groups:e}){const{value:r}=e;return{name:"userSelect",order:430,css:["user-select: "+r]}}},te={regExp:new RegExp(`^vertical-align-(?<value>((?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?)|${o})$`),render({groups:e}){let{value:r,num:n,unit:t}=e;return n&&(t=x(t,t),r=`${n}${t}`),{name:"verticalAlign",order:570,css:["vertical-align: "+r]}}},ie={regExp:new RegExp(`^(w|width)-(?<num>(0|([1-9]\\d*))(\\.\\d*[1-9])?)(?<unit>${s})?$`),render({groups:e}){const{num:r,unit:n}=e;return{name:"width",order:10,num:r,css:[`width: ${r}${x(r,n)}`]}}},se={regExp:/^word-break-(?<value>normal|break-all|keep-all|break-word|inherit|initial|unset)$/,render({groups:e}){const{value:r}=e;return{name:"wordBreak",order:350,css:["word-break: "+r]}}},oe={regExp:/^z-index-(?<isMinus>m-)?(?<num>0|[1-9]\d*)$/,render({groups:e}){let{isMinus:r,num:n}=e;return r&&(n=0-n),{name:"zIndex",order:190,num:n,css:["z-index: "+n]}}},ae=Object.freeze({__proto__:null,alignItems:d,border:w,borderRadius:v,borderStyle:E,boxSizing:y,circle:k,color:N,cursor:z,display:R,flexBasis:O,flexDirection:I,flexJustAli:F,flexNum:A,flexShrinkAndGrow:T,flexWrap:D,fontSize:q,fontWeight:H,height:M,justifyContent:L,letterSpacing:P,lineHeight:_,marginAndPadding:W,maxHeight:B,maxWidth:Q,minHeight:J,minWidth:U,opacity:C,orientation:G,overflow:V,position:Z,square:K,textAlign:X,textAlignLast:Y,textDecoration:ee,textEllipsis:re,userSelect:ne,verticalAlign:te,width:ie,wordBreak:se,zIndex:oe});let ue=[];const le={};function ce(e){return ue.push(e)}function de({classStr:e,css:r,pseudo:n}){return e=e.replace(/[@:#.]/g,"\\$1"),n&&(e=e+":"+n),r.reduce((e,r)=>e+(m("important")?r+" !important; ":r+"; "),`.${e}{ `)+"}"}function pe(e,r){return void 0!==e&&void 0!==r?Number(e.num)-Number(r.num):0}function ge(e){let r="";const n=function(e,r){const n={};return e.forEach((function(e){const t=JSON.stringify(e[r]);n[t]=n[t]||[],n[t].push(e)})),Object.keys(n).map((function(e){return n[e]}))}(e.sort((e,r)=>e.order-r.order),"name");for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r+=`/* ${n[e][0].name||"unknow name"} order ${n[e][0].order} */\n`,r+=n[e].sort(pe).map(de).join("\n"),r+="\n\n");return r}const me=new Set;function xe(e){const r=e.match(m("globReg"));return r&&r.forEach(e=>{e.replace(/[^a-zA-Z0-9-@:#.]/g," ").split(" ").forEach(he)}),""}function he(e){if(me.has(e))return null;let n,t,i=e;const s=[...l,...Object.keys(m("mediaQueries"))];if(/[@:]/.test(e)){const o=new RegExp(`^(?:(?<query>${s.join("|")})@)?(?:(?<pseudo>${r}):)?(?<source>[^:@]+)$`),a=e.match(o);if(!a)return null;const{groups:u=null}=a;if(!u)return null;({query:n,pseudo:t,source:i}=u)}me.add(e);const o=Object.values({...ae,...m("modifyRules")});for(let r=0;r<o.length;r++){let s=o[r];s=h(s)?s({getUnit:x}):s;const l=h(s.regExp)?s.regExp():s.regExp,c=i.match(l);if(null!==c){const r={classStr:e,...s.render(c),pseudo:t};n?(a=n,u=r,Object.prototype.hasOwnProperty.call(le,a)?le[a].push(u):le[a]=[u]):ce(r);break}}var a,u}const{performance:fe}=require("perf_hooks"),$e=require("fs"),be=require("path"),we=require("chokidar"),ve=require("glob"),Ee=require("shelljs");let ye=!1,ke=0,je=0;const Se=()=>{ke=fe.now()},Ne=()=>{je=fe.now()};function ze(){const e=be.resolve(m("generate")),r=be.resolve(m("generate"),"..");$e.existsSync(r)||Ee.mkdir("-p",r),$e.writeFileSync(e,`@charset "UTF-8";\n/* https://github.com/macheteHot/css-generator-plugin/\n   version: v2.0.5-beta\n   this file will auto generate and update\n   DO NOT EDIT THIS FILE!\n   DO NOT EDIT THIS FILE!\n   DO NOT EDIT THIS FILE!\n*/\n\n${function(){let e="";e+=ge(ue);const r={...u,...m("mediaQueries")};for(const n in le)Object.prototype.hasOwnProperty.call(le,n)&&(e+=`@media ${r[n]}{\n`,e+=ge(le[n]),e+="}");return e}()}\n`)}function Re(e){return be.resolve(process.cwd(),e)}function Oe(){console.log(`css generator ${ye?"reload":"init"} done use time ${(je-ke).toFixed(2)}ms`)}function Ie(e){Se(),xe(function(){const e=m("extNames").join("|");return ve.sync(be.join(process.cwd(),`./${m("dirPath")}/**/*.@(${e})`)).reduce((e,r)=>e+$e.readFileSync(be.resolve(r),"utf8"),"")}()),ze(),Ne(),e?e.hooks.done.tap("css-generator-done",Oe):Oe()}function Fe(e){ye=!0;const r=m("extNames").join("|");we.watch(be.resolve(m("dirPath")),{ignored:new RegExp(`^\\/([^/]+\\/)*[^/]*\\.((?!${r}).)+$`),persistent:!0}).on("change",r=>{Se(),ke=fe.now(),xe(function(e){return $e.readFileSync(e,"utf8")}(r)),ze(),Ne(),e||Oe()})}module.exports=class{constructor(e){void 0===e&&(e=function(){let e=null;if(!$e.existsSync(Re("css.generator.config.js")))throw new Error("you dont have any config!!! see https://github.com/macheteHot/css-generator-plugin/blob/master/README.md");return e=require(Re("css.generator.config.js")),e}()),p=e}apply(e){e.hooks.afterPlugins.tap("vue-generate-css",()=>{Ie(e),"development"===process.env.NODE_ENV&&Fe(e)})}};
